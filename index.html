<!DOCTYPE html>
<html>
<head>
  <title>PDF Load Test</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>
</head>
<body>
  <input type="file" id="fileInput" accept="application/pdf">
  <button onclick="testPDF()">Test PDF Load</button>

  <script>
    function testPDF() {
      const file = document.getElementById('fileInput').files[0];
      if (!file) {
        alert("No file selected");
        return;
      }

      const reader = new FileReader();
      reader.onload = function(e) {
        const typedarray = new Uint8Array(e.target.result);

        pdfjsLib.getDocument(typedarray).promise.then(pdf => {
          alert("✅ PDF loaded with " + pdf.numPages + " page(s)");
        }).catch(err => {
          alert("❌ PDF failed to load:\n" + err.message);
          console.error(err);
        });
      };

      reader.readAsArrayBuffer(file);
    }
  </script>
</body>
</html>
